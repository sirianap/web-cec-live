(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{347:function(t,e,n){t.exports=n.p+"img/16f3662.svg"},355:function(t,e,n){var content=n(442);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("477ba146",content,!0,{sourceMap:!1})},441:function(t,e,n){"use strict";var r=n(355);n.n(r).a},442:function(t,e,n){var r=n(12),o=n(326),l=n(347);e=r(!1);var c=o(l);e.push([t.i,".bg-dashboard[data-v-97826e78]{background:linear-gradient(hsla(0,0%,100%,.7),hsla(0,0%,100%,.7)),url("+c+") no-repeat;background-position:100%;background-attachment:fixed;background-size:contain;min-height:85vh}.bg-card[data-v-97826e78]{background:linear-gradient(hsla(0,0%,100%,.97),hsla(0,0%,100%,.97)),url(https://www.cendekiabaznas.sch.id/wp-content/uploads/2017/12/cropped-Logo-SCB-300x300.png);background-color:#fff;background-position:50%;background-attachment:fixed;background-size:50%}",""]),t.exports=e},454:function(t,e,n){"use strict";n.r(e);n(37);var r=n(11),o=n(364),l=n.n(o),c=n(365),v=n.n(c),d=(document.getElementById("print"),{data:function(){return{dates:[(new Date).toISOString().substr(0,10)],menu1:!1,header:[{text:"Waktu",value:"created_at"},{text:"Pembeli",value:"siswa.nama"},{text:"Nominal",value:"nominal"},{text:"PIC",value:"created_by.name"},{text:"",value:"id"}],daftar_transaksi:[],transaksi:{siswa:{nama:""},created_by:{name:""}},dialog_transaksi:!1}},methods:{getTransaksi:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/transaksi",{params:{from:t.dates[0],to:t.dates[1]}});case 3:n=e.sent,t.daftar_transaksi=n.data,console.log(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},detailTransaksi:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$axios.get("/transaksi/"+t);case 3:r=n.sent,e.transaksi=r.data,e.dialog_transaksi=!0,console.log(r),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()},pembayaranMasuk:function(t){var e=0;return t.forEach((function(t){e+=t.nominal})),e},keuntungan:function(t){var e=0;return t.forEach((function(t){e+=t.keuntungan})),e},downloadWithCSS:function(){v.a.toPng(document.getElementById("print")).then((function(t){var img=new Image;img.src=t;var e=new l.a({orientation:"portrait",format:[400,500]});e.addImage(img,"JPEG",20,20);new Date;e.save("INV/1.pdf")})).catch((function(t){console.error("oops, something went wrong!",t)}))}},computed:{dateRangeText:function(){return this.dates.join(" ~ ")}},mounted:function(){this.getTransaksi()}}),m=(n(441),n(43)),_=n(58),f=n.n(_),k=n(148),h=n(127),x=n(69),w=n(357),y=n(450),C=n(449),V=n(446),T=n(361),I=n(126),R=n(362),M=n(129),L=n(81),P=n(131),S=n(35),D=n(66),z=n(312),E=n(363),j=n(324),Y=n(443),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-dashboard"},[n("v-layout",{attrs:{column:""}},[n("v-flex",[n("v-row",[n("v-col",{staticClass:"pt-0",attrs:{cols:"12",md:"3"}},[n("v-menu",{attrs:{"close-on-content-click":!1,"max-width":"290","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-text-field",t._g({attrs:{value:t.dateRangeText,clearable:"","prepend-icon":"mdi-calendar",label:"Tanggal",readonly:"","hide-details":""},on:{"click:clear":function(e){t.dates=[],t.getTransaksi()}}},r))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[t._v(" "),n("v-date-picker",{attrs:{range:"","no-title":""},on:{change:function(e){t.menu1=!1,t.getTransaksi()}},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}})],1)],1)],1)],1),t._v(" "),n("v-flex",{attrs:{md12:"",xs12:"",lg12:"",sm12:""}},[n("v-row",[n("v-col",{attrs:{cols:"12",md:"4"}},[n("v-card",[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",{staticClass:"primary--text"},[t._v("Pembayaran masuk")]),t._v(" "),n("v-list-item-subtitle",{staticClass:"display-1"},[t._v("Rp\n                  "+t._s(t.pembayaranMasuk(t.daftar_transaksi)))])],1),t._v(" "),n("v-list-item-icon",[n("v-icon",{attrs:{size:"50px",color:"primary"}},[t._v("mdi-cash-multiple")])],1)],1)],1)],1),t._v(" "),n("v-col",{attrs:{cols:"12",md:"4"}},[n("v-card",[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",{staticClass:"primary--text"},[t._v("Keuntungan")]),t._v(" "),n("v-list-item-subtitle",{staticClass:"display-1"},[t._v("Rp "+t._s(t.keuntungan(t.daftar_transaksi)))])],1),t._v(" "),n("v-list-item-icon",[n("v-icon",{attrs:{size:"50px",color:"primary"}},[t._v("mdi-flower-tulip-outline")])],1)],1)],1)],1),t._v(" "),n("v-col",{attrs:{cols:"12",md:"4"}},[n("v-card",[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",{staticClass:"primary--text"},[t._v("Jumlah Transaksi")]),t._v(" "),n("v-list-item-subtitle",{staticClass:"display-1"},[t._v("\n                  "+t._s(t.daftar_transaksi.length)+"\n                ")])],1),t._v(" "),n("v-list-item-icon",[n("v-icon",{attrs:{size:"50px",color:"primary"}},[t._v("mdi-transition")])],1)],1)],1)],1)],1)],1),t._v(" "),n("v-flex",{attrs:{md12:"",xs12:"",lg12:"",sm12:""}},[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-card",[n("v-card-title",[t._v("Riwayat pembayaran")]),t._v(" "),n("v-data-table",{attrs:{headers:t.header,items:t.daftar_transaksi},scopedSlots:t._u([{key:"item.created_at",fn:function(e){var n=e.item;return[t._v(t._s(t.$moment(n.created_at).format("Do MMM YYYY, h:mm a")))]}},{key:"item.id",fn:function(e){var r=e.item;return[n("v-btn",{attrs:{text:"",small:"",color:"primary"},on:{click:function(e){return e.stopPropagation(),t.detailTransaksi(r.id)}}},[t._v("Lihat detail")])]}}])})],1)],1)],1)],1)],1),t._v(" "),n("v-dialog",{attrs:{width:"400px",scrollable:"",persistent:""},model:{value:t.dialog_transaksi,callback:function(e){t.dialog_transaksi=e},expression:"dialog_transaksi"}},[n("v-card",{staticClass:"bg-card",attrs:{id:"print"}},[n("v-card-title",[t._v("\n        Transaksi\n        "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.dialog_transaksi=!1}}},[n("v-icon",[t._v("mdi-close")])],1)],1),t._v(" "),n("v-card-text",[n("div",[t._v("\n          "+t._s(t.$moment(this.transaksi.created_at).format("hh:mm a, Do MMMM Y"))+"\n        ")]),t._v(" "),n("div",[n("span",{staticClass:"primary--text"},[t._v("Nomor transaksi")]),t._v(" "),n("span",{staticClass:"font-weight-medium float-right"},[t._v(t._s(this.transaksi.id))])]),t._v(" "),n("div",[n("span",{staticClass:"primary--text"},[t._v("Pembeli")]),t._v(" "),n("span",{staticClass:"font-weight-medium float-right"},[t._v(t._s(this.transaksi.siswa.nama))])]),t._v(" "),n("div",[n("span",{staticClass:"primary--text"},[t._v("Kasir")]),t._v(" "),n("span",{staticClass:"font-weight-medium float-right"},[t._v(t._s(this.transaksi.created_by.name))])]),t._v(" "),n("div",[n("span",{staticClass:"primary--text"},[t._v("Nominal")]),t._v(" "),n("span",{staticClass:"font-weight-medium float-right"},[t._v("Rp "+t._s(this.transaksi.nominal))])]),t._v(" "),n("v-list",{staticClass:"transparent",attrs:{dense:""}},[t._l(t.transaksi.detail,(function(e){return[n("v-list-item",{key:e.id,staticClass:"px-0"},[n("v-list-item-avatar",[n("div",{staticClass:"headline primary--text"},[t._v(t._s(e.jumlah))])]),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(e.produk.nama))]),t._v(" "),n("v-list-item-subtitle",[t._v(t._s(e.produk.nomor))])],1),t._v(" "),n("v-list-item-content",{staticClass:"text-right"},[n("v-list-item-title",[t._v("Rp "+t._s(e.harga_total))])],1)],1)]}))],2)],1)],1)],1)],1)}),[],!1,null,"97826e78",null);e.default=component.exports;f()(component,{VBtn:k.a,VCard:h.a,VCardText:x.b,VCardTitle:x.c,VCol:w.a,VDataTable:y.a,VDatePicker:C.a,VDialog:V.a,VFlex:T.a,VIcon:I.a,VLayout:R.a,VList:M.a,VListItem:L.a,VListItemAvatar:P.a,VListItemContent:S.a,VListItemIcon:D.a,VListItemSubtitle:S.b,VListItemTitle:S.c,VMenu:z.a,VRow:E.a,VSpacer:j.a,VTextField:Y.a})}}]);